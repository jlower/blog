---
title: 新项目-接口守护平台-提前整理
date: 2025-08-16 03:00:00
categories: [Java项目]
keywords: [Java项目,接口,API开放平台,面经]
tag: []
description:
---

## 项目实现了什么功能？具体的业务流程？

## 全面介绍Spring Cloud Gateway的各个功能？Spring Cloud Gateway 的路由怎么用，说说代码？路由是什么规则？网关的作用？负载均衡有哪些算法？

## SpringBoot引入MyBatis要做那些操作？

## spring ioc 项目中哪里用到了ioc？

## 看过Redis源码吗？

## 怎么生成为一的业务ID？UUID、雪花算法怎么实现？怎么保证全局有序性？

## 雪花算法怎么解决时钟回拨？

> 说了美团leaf的解决方案，并且说了可以将机器号拆出几位作为时钟序号，每次回拨就自增。个人更喜欢后者，更轻量级

## 雪花算法的机器号怎么分配？

> 说了可以按ip进行hash，面试官问有没有成熟一些能直接落地的方案，我说可以预分配或者用redis的zset存储可用的机器号，新机器上线之后自己去认领一个最小的

## 什么是幂等？项目中怎么做的幂等？黑马点评里秒杀的幂等怎么做的？

> 从前端按钮置灰，业务层唯一幂等标识和数据库唯一索引兜底三个角度说了说
> 从业务层redis分布式锁和存储层唯一索引兜底两方面说。追问唯一索引具体怎么实现，回答在订单表中建立用户id+商品id+秒杀活动id三字段联合索引，确保同一用户在同一活动中只能购买一件同一商品

## 操作redis怎么保证原子性？说了lua脚本，追问平时有自己写过lua脚本嘛？

## redis.call和redis.pcall

## kafka的partition讲一下？如果某个topic中的某个消费者组想要提高自己的消费速率，可以从哪些方面优化？

## redis库存预占怎么实现的？

## Redis集群原理？用户请求访问一个key，服务端和Redis发生了什么？要在服务端决定key在哪个分片吗？

> 我说当然不是，服务端连任意一台实例即可，实例之间有信息交互，会帮你转发到正确的节点。说完对方没反馈，也没追问

## redis如何配置？集群还是主从？如果主节点完成操作了，从节点还没同步，主节点就挂了怎么办？主从同步的方式的底层原理？

## kafka生产者将消息发送给broker的三种方式？如果broker返回ack后挂了，副本还没同步就变成主节点导致的消息丢失怎么办？

> 几种同步策略，比如选出和broker的offset最接近的几个副本作为候选集，将候选集同步完成后才会真正视为刷盘成功并返回ack；比较严格的模式就是强制同步所有副本。具体还要根据业务来选择。

## Nginx具体部署怎么写分流命令？nginx的相关原理和细节？

## Docker File 中要写的命令有啥？
